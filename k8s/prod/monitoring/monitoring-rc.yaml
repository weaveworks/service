apiVersion: v1
kind: ReplicationController
metadata:
  namespace: monitoring
  name: monitoring-20160609
spec:
  replicas: 1
  selector:
    name: monitoring
    version: '20160609'
  template:
    metadata:
      labels:
        name: monitoring
        version: '20160609'
    spec:
      imagePullSecrets:
      - name: quay-secret
      containers:
      - name: prometheus
        image: quay.io/weaveworks/prometheus:bb26507
        ports:
        - containerPort: 9090
      - name: grafana
        image: quay.io/weaveworks/grafana:nats-shortcut-reports-634cdd0-WIP
        ports:
        - containerPort: 3000
      - name: gfdatasource
        image: quay.io/weaveworks/gfdatasource:ee4f63b
      - name: loadgen
        image: quay.io/weaveworks/loadgen:6d14ba2
      - name: alertmanager
        image: quay.io/weaveworks/alertmanager:220d23e
        command:
        - /alertmanager/alertmanager
        - -config.file=/etc/alertmanager/alertmanager-prod.yml
        env:
        - name: SMTP_AUTH_USERNAME      # See alertmanager's config file
          value: 'AKIAIV2MAR7JNRV6V2CA' # ses-smtp-user.20160108-111651.alertmanager
        - name: SMTP_AUTH_PASSWORD
          value: 'Av+GtaUk/JcR4239ke+iSi3dPAwB8yc66wnuRUZtLoa3'
        ports:
        - containerPort: 9093
