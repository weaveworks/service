# client

React app for the Scope service.

## Build

You should build all components via the toplevel Makefile.
But, if you're just working on the client, you can try:

```sh
$ npm install
$ npm run build
```

Copy the contents of `build/` to your static webserver's document root directory.

## Run

See instructions in the toplevel README about running a local cluster.
But, to just run the local client:

```sh
$ npm install
$ npm run server
```

Navigate to **http://localhost:8080/** to view the app.

## Test

```sh
$ npm test
```

## Features

- ES6 with polyfills for current browsers
- Testability: ease of writing unit tests and generating code coverage
- Minimize templates, compose DOM alongside components via JSX
- Session-driven routing using [react-router](https://github.com/rackt/react-router) with async data fetching

## Dependencies

- [react](http://facebook.github.io/react/)
- [react-router](https://github.com/rackt/react-router)

### Dev

- [webpack](http://webpack.github.io/)
- [react hot loader](https://github.com/gaearon/react-hot-loader)
- [karma](http://karma-runner.github.io/0.12/index.html)
- [babel](http://babeljs.io/)

Check out [package.json](package.json) for the complete list.

## Project structure

Components are grouped into 2 main categories:

- **common** - contains various classes and components that are shared between pages and views
- **pages** - contains components grouped by the page / view / feature they belong to.

## Commands

A core philosophy of this skeleton app is to keep the tooling to a minimum. For this reason, you can find all the commands in the `scripts` section of [package.json](package.json).

### server

```sh
$ npm run server
```

**Input:** `src/main.jsx`

This leverages [React Hot Loader](https://github.com/gaearon/react-hot-loader) to automatically start a local dev server and refresh file changes on the fly without reloading the page.

It also automatically includes source maps, allowing you to browse code and set breakpoints on the original ES6 code:

![](https://www.dropbox.com/s/zgb3psadwcawjc8/Screenshot%202015-03-08%2017.09.53.png?dl=1)

### build

```sh
$ npm run build
```

**Input:** `src/main.jsx`

**Output:** `build/app.js`

Build minified app for production using the [production](http://webpack.github.io/docs/cli.html#production-shortcut-p) shortcut.

### lint

```sh
$ npm run lint
```

**Input:** `src`

Uses [ESlint](http://eslint.org) with AirBnB's linting rules via package `eslint-config-airbnb`.

### test

```sh
$ npm test
```

**Input:** `test/main.js`

**Output:** `coverage/`

Leverages [Karma](http://karma-runner.github.io/0.12/index.html) to run through the test suite using [PhantomJS](http://phantomjs.org/) and generate code coverage reports.

### test-cross-browser

```sh
$ npm run test-cross-browser
```

**Input:** `test/main.js`

Runs the unit test suite against various browsers using the [Sauce Labs](https://saucelabs.com/) automated cross-browser testing tool.

### coveralls

```sh
$ npm run coveralls
```

**Input:** `coverage/lcov.info`

Sends the code coverage report generated by [Istanbul](https://github.com/gotwarlost/istanbul) to [Coveralls](http://coveralls.io/).

### clean

```sh
$ npm run clean
```

**Input:** `build/app.js`

Removes the compiled app file from build.

## [Changelog](CHANGELOG.md)
