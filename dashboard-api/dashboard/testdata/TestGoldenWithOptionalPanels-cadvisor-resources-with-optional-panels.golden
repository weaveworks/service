{
  "id": "cadvisor-resources",
  "name": "Resources",
  "sections": [
    {
      "name": "CPU usage",
      "rows": [
        {
          "panels": [
            {
              "title": "",
              "type": "line",
              "unit": {
                "format": "numeric",
                "explanation": "CPU seconds / second"
              },
              "query": "sum (rate(container_cpu_usage_seconds_total{image!='',namespace='default',_weave_pod_name='authfe'}[2m])) by (pod_name)"
            }
          ]
        }
      ]
    },
    {
      "name": "Memory usage",
      "rows": [
        {
          "panels": [
            {
              "title": "",
              "type": "line",
              "unit": {
                "format": "bytes"
              },
              "query": "sum (container_memory_working_set_bytes{image!='',namespace='default',_weave_pod_name='authfe'}) by (pod_name)"
            }
          ]
        }
      ]
    },
    {
      "name": "GPU",
      "rows": [
        {
          "panels": [
            {
              "title": "GPU usage",
              "optional": true,
              "type": "line",
              "unit": {
                "format": "numeric",
                "explanation": "GPU seconds / second"
              },
              "query": "avg (container_accelerator_duty_cycle{image!='',namespace='default',_weave_pod_name='authfe'}) by (pod_name)"
            },
            {
              "title": "GPU memory usage",
              "optional": true,
              "type": "line",
              "unit": {
                "format": "bytes"
              },
              "query": "sum (container_accelerator_memory_used_bytes{image!='',namespace='default',_weave_pod_name='authfe'}) by (pod_name)"
            }
          ]
        }
      ]
    },
    {
      "name": "Network traffic",
      "rows": [
        {
          "panels": [
            {
              "title": "Incoming",
              "type": "line",
              "unit": {
                "format": "bytes"
              },
              "query": "sum (rate(container_network_receive_bytes_total{image!='',namespace='default',_weave_pod_name='authfe'}[2m])) by (pod_name)"
            },
            {
              "title": "Outgoing",
              "type": "line",
              "unit": {
                "format": "bytes"
              },
              "query": "sum (rate(container_network_transmit_bytes_total{image!='',namespace='default',_weave_pod_name='authfe'}[2m])) by (pod_name)"
            }
          ]
        }
      ]
    },
    {
      "name": "Disk I/O",
      "rows": [
        {
          "panels": [
            {
              "title": "Bandwidth (read)",
              "optional": true,
              "type": "line",
              "unit": {
                "format": "bytes"
              },
              "query": "sum (rate(container_fs_reads_bytes_total{image!='',namespace='default',_weave_pod_name='authfe'}[2m])) by (pod_name)"
            },
            {
              "title": "Bandwidth (write)",
              "optional": true,
              "type": "line",
              "unit": {
                "format": "bytes"
              },
              "query": "sum (rate(container_fs_writes_bytes_total{image!='',namespace='default',_weave_pod_name='authfe'}[2m])) by (pod_name)"
            }
          ]
        },
        {
          "panels": [
            {
              "title": "Operations per second (read)",
              "type": "line",
              "unit": {
                "format": "numeric"
              },
              "query": "sum (rate(container_fs_reads_total{image!='',namespace='default',_weave_pod_name='authfe'}[2m])) by (pod_name)"
            },
            {
              "title": "Operations per second (write)",
              "type": "line",
              "unit": {
                "format": "numeric"
              },
              "query": "sum (rate(container_fs_writes_total{image!='',namespace='default',_weave_pod_name='authfe'}[2m])) by (pod_name)"
            }
          ]
        }
      ]
    }
  ]
}