digraph G {
    node [shape=rect];
    edge [minlen=2];

    {rank=same; vpc;}
    {rank=same; sg_master; sg_minion; acl; subnet; igw; rtb_k8s; rtb_default;}
    {rank=same; ec2_master; ec2_minions;}

    autoscaling_group;
    autoscaling_launchconfig;

	vpc -> sg_master;
	vpc -> sg_minion;
	vpc -> acl;
	vpc -> subnet;
	vpc -> igw;
	vpc -> rtb_k8s;
	vpc -> rtb_default;

	sg_master -> vpc;

	sg_minion -> vpc;

	acl -> vpc;
	acl -> subnet;

	subnet -> vpc;
	subnet -> acl;
	subnet -> rtb_k8s;

	igw -> vpc;

	rtb_k8s -> vpc;
	rtb_k8s -> subnet;
	rtb_k8s -> igw         [style=dashed];
	rtb_k8s -> ec2_minions [style=dashed];
	rtb_k8s -> ec2_master  [style=dashed];

	rtb_default -> vpc;

	ec2_minions -> vpc;
	ec2_minions -> sg_minion;

	ec2_master -> vpc;
	ec2_master -> sg_master;
}
