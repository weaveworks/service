{
    "version": 1,
    "serial": 39,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_db_instance.app_mapper_database": {
                    "type": "aws_db_instance",
                    "depends_on": [
                        "aws_security_group.rds_sg"
                    ],
                    "primary": {
                        "id": "app-mapper-database",
                        "attributes": {
                            "address": "app-mapper-database.cps0r5emv3nc.us-east-1.rds.amazonaws.com",
                            "allocated_storage": "10",
                            "apply_immediately": "true",
                            "availability_zone": "us-east-1e",
                            "backup_retention_period": "5",
                            "backup_window": "07:35-08:05",
                            "db_subnet_group_name": "default",
                            "endpoint": "app-mapper-database.cps0r5emv3nc.us-east-1.rds.amazonaws.com:5432",
                            "engine": "postgres",
                            "engine_version": "9.4.4",
                            "final_snapshot_identifier": "app-mapper-final",
                            "id": "app-mapper-database",
                            "identifier": "app-mapper-database",
                            "instance_class": "db.t2.small",
                            "license_model": "postgresql-license",
                            "maintenance_window": "wed:03:04-wed:03:34",
                            "multi_az": "true",
                            "parameter_group_name": "default.postgres9.4",
                            "password": "am1e28d6a4b3302b",
                            "port": "5432",
                            "replicas.#": "0",
                            "security_group_names.#": "0",
                            "status": "available",
                            "storage_encrypted": "false",
                            "storage_type": "standard",
                            "tags.#": "0",
                            "username": "postgres",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.1899613972": "sg-7a9d4701"
                        }
                    }
                },
                "aws_db_instance.users_database": {
                    "type": "aws_db_instance",
                    "depends_on": [
                        "aws_security_group.rds_sg"
                    ],
                    "primary": {
                        "id": "users-database",
                        "attributes": {
                            "address": "users-database.cps0r5emv3nc.us-east-1.rds.amazonaws.com",
                            "allocated_storage": "10",
                            "apply_immediately": "true",
                            "availability_zone": "us-east-1e",
                            "backup_retention_period": "5",
                            "backup_window": "03:25-03:55",
                            "db_subnet_group_name": "default",
                            "endpoint": "users-database.cps0r5emv3nc.us-east-1.rds.amazonaws.com:5432",
                            "engine": "postgres",
                            "engine_version": "9.4.4",
                            "final_snapshot_identifier": "users-final",
                            "id": "users-database",
                            "identifier": "users-database",
                            "instance_class": "db.t2.small",
                            "license_model": "postgresql-license",
                            "maintenance_window": "tue:09:40-tue:10:10",
                            "multi_az": "true",
                            "parameter_group_name": "default.postgres9.4",
                            "password": "us45dcd40163798d",
                            "port": "5432",
                            "replicas.#": "0",
                            "security_group_names.#": "0",
                            "status": "available",
                            "storage_encrypted": "false",
                            "storage_type": "standard",
                            "tags.#": "0",
                            "username": "postgres",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.1899613972": "sg-7a9d4701"
                        }
                    }
                },
                "aws_db_subnet_group.rds_subnet_group": {
                    "type": "aws_db_subnet_group",
                    "depends_on": [
                        "aws_subnet.rds_subnet_a",
                        "aws_subnet.rds_subnet_b"
                    ],
                    "primary": {
                        "id": "rds_subnet_group",
                        "attributes": {
                            "description": "DB subnet group for the databases",
                            "id": "rds_subnet_group",
                            "name": "rds_subnet_group",
                            "subnet_ids.#": "2",
                            "subnet_ids.2460148955": "subnet-b06b1a9a",
                            "subnet_ids.3529320122": "subnet-c62d0db0",
                            "tags.#": "1",
                            "tags.Name": "terraform-rds-subnet-group"
                        }
                    }
                },
                "aws_dynamodb_table.report_table": {
                    "type": "aws_dynamodb_table",
                    "primary": {
                        "id": "dev_reports",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:us-east-1:376248598259:table/dev_reports",
                            "attribute.#": "2",
                            "attribute.113885566.name": "hour",
                            "attribute.113885566.type": "S",
                            "attribute.3983831006.name": "ts",
                            "attribute.3983831006.type": "N",
                            "global_secondary_index.#": "0",
                            "hash_key": "hour",
                            "id": "dev_reports",
                            "name": "dev_reports",
                            "range_key": "ts",
                            "read_capacity": "100",
                            "write_capacity": "200"
                        }
                    }
                },
                "aws_iam_access_key.report_reader_key": {
                    "type": "aws_iam_access_key",
                    "depends_on": [
                        "aws_iam_user.report_reader"
                    ],
                    "primary": {
                        "id": "AKIAJI4S2QEEF27QVJXQ",
                        "attributes": {
                            "id": "AKIAJI4S2QEEF27QVJXQ",
                            "secret": "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",
                            "ses_smtp_password": "AsM2rSpqoI/v674r1rdm8qOKIOiws3M7ppVKMWbF3Xvc",
                            "status": "Active",
                            "user": "dev_report_reader"
                        }
                    }
                },
                "aws_iam_access_key.report_writer_key": {
                    "type": "aws_iam_access_key",
                    "depends_on": [
                        "aws_iam_user.report_writer"
                    ],
                    "primary": {
                        "id": "AKIAJFWTRBJFTLBFXTAA",
                        "attributes": {
                            "id": "AKIAJFWTRBJFTLBFXTAA",
                            "secret": "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",
                            "ses_smtp_password": "Aj9Z4wes+wkCSaj7QLF14Bl4yGBM7UkDjYPPdOQFyTz8",
                            "status": "Active",
                            "user": "dev_report_writer"
                        }
                    }
                },
                "aws_iam_access_key.sqs_readwriter_key": {
                    "type": "aws_iam_access_key",
                    "depends_on": [
                        "aws_iam_user.sqs_readwriter"
                    ],
                    "primary": {
                        "id": "AKIAJECDWWRQWFNHFO2A",
                        "attributes": {
                            "id": "AKIAJECDWWRQWFNHFO2A",
                            "secret": "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",
                            "ses_smtp_password": "AqEjErav75LR5ZA9NBNevterxF4QeTbK2yIntotNfLub",
                            "status": "Active",
                            "user": "dev_sqs_readwriter"
                        }
                    }
                },
                "aws_iam_user.report_reader": {
                    "type": "aws_iam_user",
                    "primary": {
                        "id": "dev_report_reader",
                        "attributes": {
                            "arn": "arn:aws:iam::376248598259:user/dev_report_reader",
                            "id": "dev_report_reader",
                            "name": "dev_report_reader",
                            "path": "/",
                            "unique_id": "AIDAJVUQKVVH7KEY5VIS6"
                        }
                    }
                },
                "aws_iam_user.report_writer": {
                    "type": "aws_iam_user",
                    "primary": {
                        "id": "dev_report_writer",
                        "attributes": {
                            "arn": "arn:aws:iam::376248598259:user/dev_report_writer",
                            "id": "dev_report_writer",
                            "name": "dev_report_writer",
                            "path": "/",
                            "unique_id": "AIDAJSNDY3GYW7TPMZYVW"
                        }
                    }
                },
                "aws_iam_user.sqs_readwriter": {
                    "type": "aws_iam_user",
                    "primary": {
                        "id": "dev_sqs_readwriter",
                        "attributes": {
                            "arn": "arn:aws:iam::376248598259:user/dev_sqs_readwriter",
                            "id": "dev_sqs_readwriter",
                            "name": "dev_sqs_readwriter",
                            "path": "/",
                            "unique_id": "AIDAIPJP3Q3BQK5YMS42G"
                        }
                    }
                },
                "aws_iam_user_policy.report_reader_policy": {
                    "type": "aws_iam_user_policy",
                    "depends_on": [
                        "aws_dynamodb_table.report_table",
                        "aws_iam_user.report_reader",
                        "aws_s3_bucket.report_bucket"
                    ],
                    "primary": {
                        "id": "dev_report_reader:report_reader_policy",
                        "attributes": {
                            "id": "dev_report_reader:report_reader_policy",
                            "name": "report_reader_policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n         \"dynamodb:Query\",\n         \"dynamodb:GetItem\",\n         \"dynamodb:BatchGetItem\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:dynamodb:us-east-1:376248598259:table/dev_reports\"\n    },\n    {\n      \"Action\": [\n         \"s3:GetObject\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:s3:::weaveworks_dev_reports/*\"\n    }\n  ]\n}\n",
                            "user": "dev_report_reader"
                        }
                    }
                },
                "aws_iam_user_policy.report_writer_policy": {
                    "type": "aws_iam_user_policy",
                    "depends_on": [
                        "aws_dynamodb_table.report_table",
                        "aws_iam_user.report_writer",
                        "aws_s3_bucket.report_bucket"
                    ],
                    "primary": {
                        "id": "dev_report_writer:report_writer_policy",
                        "attributes": {
                            "id": "dev_report_writer:report_writer_policy",
                            "name": "report_writer_policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n         \"dynamodb:PutItem\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:dynamodb:us-east-1:376248598259:table/dev_reports\"\n    },\n    {\n      \"Action\": [\n         \"s3:PutObject\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:s3:::weaveworks_dev_reports/*\"\n    }\n  ]\n}\n",
                            "user": "dev_report_writer"
                        }
                    }
                },
                "aws_iam_user_policy.sqs_readwriter_policy": {
                    "type": "aws_iam_user_policy",
                    "depends_on": [
                        "aws_iam_user.sqs_readwriter"
                    ],
                    "primary": {
                        "id": "dev_sqs_readwriter:sqs_readwriter_policy",
                        "attributes": {
                            "id": "dev_sqs_readwriter:sqs_readwriter_policy",
                            "name": "sqs_readwriter_policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sqs:*\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:aws:sqs:us-east-1:*:dev_control_*\"\n    }\n  ]\n}\n",
                            "user": "dev_sqs_readwriter"
                        }
                    }
                },
                "aws_internet_gateway.rds_igw": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.rds_vpc"
                    ],
                    "primary": {
                        "id": "igw-ce1968aa",
                        "attributes": {
                            "id": "igw-ce1968aa",
                            "tags.#": "1",
                            "tags.Name": "terraform-rds-igw",
                            "vpc_id": "vpc-cfba75a8"
                        }
                    }
                },
                "aws_route53_record.www": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_route53_zone.zone"
                    ],
                    "primary": {
                        "id": "Z9W0R2E5JQPNX_frontend.dev.weave.works_A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.326871072.evaluate_target_health": "false",
                            "alias.326871072.name": "a6246991221d311e6a36012b23092a53-1870334710.us-east-1.elb.amazonaws.com",
                            "alias.326871072.zone_id": "Z3DZXE0Q79N41H",
                            "failover": "",
                            "fqdn": "frontend.dev.weave.works",
                            "health_check_id": "",
                            "id": "Z9W0R2E5JQPNX_frontend.dev.weave.works_A",
                            "name": "frontend.dev.weave.works",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "weight": "-1",
                            "zone_id": "Z9W0R2E5JQPNX"
                        }
                    }
                },
                "aws_route53_zone.zone": {
                    "type": "aws_route53_zone",
                    "primary": {
                        "id": "Z9W0R2E5JQPNX",
                        "attributes": {
                            "comment": "Managed by Terraform",
                            "id": "Z9W0R2E5JQPNX",
                            "name": "dev.weave.works",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-1060.awsdns-04.org",
                            "name_servers.1": "ns-1733.awsdns-24.co.uk",
                            "name_servers.2": "ns-51.awsdns-06.com",
                            "name_servers.3": "ns-701.awsdns-23.net",
                            "tags.#": "1",
                            "tags.Name": "terraform-frontend-zone",
                            "zone_id": "Z9W0R2E5JQPNX"
                        }
                    }
                },
                "aws_route_table.rds_rtb": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_internet_gateway.rds_igw",
                        "aws_vpc.rds_vpc"
                    ],
                    "primary": {
                        "id": "rtb-65c68902",
                        "attributes": {
                            "id": "rtb-65c68902",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.603828431.cidr_block": "0.0.0.0/0",
                            "route.603828431.gateway_id": "igw-ce1968aa",
                            "route.603828431.instance_id": "",
                            "route.603828431.network_interface_id": "",
                            "route.603828431.vpc_peering_connection_id": "",
                            "tags.#": "1",
                            "tags.Name": "terraform-rds-rtb",
                            "vpc_id": "vpc-cfba75a8"
                        }
                    }
                },
                "aws_route_table_association.rds_rtbassoc_a": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.rds_rtb",
                        "aws_subnet.rds_subnet_a"
                    ],
                    "primary": {
                        "id": "rtbassoc-5d3a883b",
                        "attributes": {
                            "id": "rtbassoc-5d3a883b",
                            "route_table_id": "rtb-65c68902",
                            "subnet_id": "subnet-b06b1a9a"
                        }
                    }
                },
                "aws_route_table_association.rds_rtbassoc_b": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.rds_rtb",
                        "aws_subnet.rds_subnet_b"
                    ],
                    "primary": {
                        "id": "rtbassoc-5c3a883a",
                        "attributes": {
                            "id": "rtbassoc-5c3a883a",
                            "route_table_id": "rtb-65c68902",
                            "subnet_id": "subnet-c62d0db0"
                        }
                    }
                },
                "aws_s3_bucket.report_bucket": {
                    "type": "aws_s3_bucket",
                    "primary": {
                        "id": "weaveworks_dev_reports",
                        "attributes": {
                            "acl": "private",
                            "arn": "arn:aws:s3:::weaveworks_dev_reports",
                            "bucket": "weaveworks_dev_reports",
                            "cors_rule.#": "0",
                            "force_destroy": "false",
                            "hosted_zone_id": "Z3AQBSTGFYJSTF",
                            "id": "weaveworks_dev_reports",
                            "policy": "",
                            "region": "us-east-1",
                            "tags.#": "0",
                            "website.#": "0"
                        }
                    }
                },
                "aws_security_group.rds_sg": {
                    "type": "aws_security_group",
                    "primary": {
                        "id": "sg-7a9d4701",
                        "attributes": {
                            "description": "Security group for RDS instances",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-7a9d4701",
                            "ingress.#": "1",
                            "ingress.2661837834.cidr_blocks.#": "1",
                            "ingress.2661837834.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2661837834.from_port": "0",
                            "ingress.2661837834.protocol": "tcp",
                            "ingress.2661837834.security_groups.#": "0",
                            "ingress.2661837834.self": "false",
                            "ingress.2661837834.to_port": "5432",
                            "name": "rds_sg",
                            "owner_id": "376248598259",
                            "tags.#": "1",
                            "tags.Name": "terraform-rds-sg",
                            "vpc_id": "vpc-aab8b7cf"
                        }
                    }
                },
                "aws_subnet.rds_subnet_a": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.rds_vpc"
                    ],
                    "primary": {
                        "id": "subnet-b06b1a9a",
                        "attributes": {
                            "availability_zone": "us-east-1a",
                            "cidr_block": "172.110.1.0/24",
                            "id": "subnet-b06b1a9a",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "terraform-rds-subnet-a",
                            "vpc_id": "vpc-cfba75a8"
                        }
                    }
                },
                "aws_subnet.rds_subnet_b": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.rds_vpc"
                    ],
                    "primary": {
                        "id": "subnet-c62d0db0",
                        "attributes": {
                            "availability_zone": "us-east-1b",
                            "cidr_block": "172.110.2.0/24",
                            "id": "subnet-c62d0db0",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "terraform-rds-subnet-b",
                            "vpc_id": "vpc-cfba75a8"
                        }
                    }
                },
                "aws_vpc.rds_vpc": {
                    "type": "aws_vpc",
                    "primary": {
                        "id": "vpc-cfba75a8",
                        "attributes": {
                            "cidr_block": "172.110.0.0/16",
                            "default_network_acl_id": "acl-fa7dd69d",
                            "default_security_group_id": "sg-7b9d4700",
                            "dhcp_options_id": "dopt-96c731f3",
                            "enable_dns_hostnames": "true",
                            "id": "vpc-cfba75a8",
                            "main_route_table_id": "rtb-66c68901",
                            "tags.#": "1",
                            "tags.Name": "terraform-rds-vpc"
                        }
                    }
                }
            }
        }
    ]
}
